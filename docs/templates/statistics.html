<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Statistics - Datatouille</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <style>
        body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            font-family: 'Roboto', sans-serif;
        }
        #nav-bar {
            width: 100%;
            background-color: #faf7f7;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 20px;
            height: 100px; /* Assuming 70px is the total height including padding */
        }
        .navbar-title, .navbar-logo-container {
            display: flex;
            align-items: center;
        }
        .navbar-logo {
            height: 70px;
            margin-right: 2px; /* Space between logo and title */
        }
        .navbar-title {
            color: rgb(166, 48, 48);
            font-size: 28px;
            font-weight: bold;
            font-family: 'Montserrat', sans-serif;
        }
        .navbar-nav {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
        .navbar a {
            color: rgb(166, 48, 48);
            padding: 14px 30px;
            text-decoration: none;
            text-align: center;
            display: block;
            font-size: 18px;
        }
        
        #content-area {
            display: flex;
            justify-content: center;
            padding: 20px;
            flex-wrap: wrap; /* Allow the boxes to wrap if needed */
            gap: 20px; /* Add some space between the boxes if they wrap */
        }

        #chart-box, #explanation-box {
            flex: 1; /* Each box takes equal width */
            margin: 10px; /* Adds some space between the boxes */
            min-width: 500px; /* Set a minimum width for each box */
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #e8e8e8;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            justify-content: start;
            align-items: center;
            /* Set the height to be at least as tall as the chart, adjust as necessary */
            min-height: 500px; 
        }

        #content-area-horizontal {
            display: flex;
            justify-content: center;
            padding: 10px;
            flex-wrap: wrap;
            gap: 20px;
        }

        #horizontal-chart-box {
            flex: 1;
            margin: 10px;
            min-width: 600px; /* Adjust based on your layout */
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #e8e8e8;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            justify-content: start;
            align-items: center;
            min-height: 500px;
        }


        /* Add specific styles for SVG to avoid overflow */
        #chart svg {
            max-width: 100%;
            height: auto; /* Adjust height proportionally */
        }
        .tooltip {
            position: absolute;
            text-align: center;
            padding: 6px;
            font-size: 14px;
            background: lightsteelblue;
            border: 0px;
            border-radius: 4px;
            pointer-events: none;
            opacity: 0;
        }
        .grid line {
            stroke: rgb(67, 61, 61);
            stroke-opacity: 0.7;
            shape-rendering: crispEdges;
        }
        .grid path {
            stroke-width: 0;
        }
        #horizontal-chart-container {
            margin: auto;
            width: 80%;
            padding: 20px;
            background-color: #f7c0c0;  
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);  
            border-radius: 8px;  
        }

        #filter-container {
            text-align: center;
            margin-bottom: 20px;
        }

        .filter-btn {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            background-color: #e8e8e8;
            cursor: pointer;
            border-radius: 5px;
            outline: none;
        }

        .filter-btn.selected {
            background-color: #007bff;
            color: white;
        }

        #horizontal-chart-box {
            padding: 20px;
        }

        .tooltip {
            position: absolute;
            text-align: center;
            padding: 6px 10px;
            background: rgba(0, 0, 0, 0.8);
            color: lightsteelblue;
            border-radius: 4px;
            pointer-events: none;
            opacity: 0;
        }

    </style>
</head>
<body>
    <div id="nav-bar" class="navbar navbar-expand-lg navbar-dark">
        <div class="navbar-logo-container">
            <img src="../static/images/website_logo.jpg" class="navbar-logo" alt="Website Logo">
            <!-- Make the title a link to the main page -->
            <a href="../index.html" class="navbar-title-link">
                <div class="navbar-title">Datatouille</div>
            </a>
        </div>
        <div class="navbar-nav ml-auto">
            <!-- Make the Home link refer back to the main page -->
            <a class="navbar-title-link" href="../index.html">Home</a>
            <a class="navbar-title-link" href="../templates/michelin_guide.html">Michelin Guide</a>
            <a class="navbar-title-link" href="#statistics">Statistics</a>
            <a class="navbar-title-link" href="../templates/about_us.html">About Us</a>
            <a class="navbar-title-link" href="../templates/about_project.html">Project</a>
        </div>
    </div>

    <div id="content-area">
        <div id="chart-box">
            <h2 style="text-align: center;">Michelin Guide Listings by Continent</h2>
            <div id="chart"></div>
        </div>
        <div id="explanation-box">
            <h2 style="text-align: center;">Chart Explanation</h2>
            <p>This chart visualizes the distribution of Michelin Guide listings by continent, showing a significant concentration in Europe, followed by Asia, North America, and South America. Detailed statistics help stakeholders understand market penetration and growth opportunities.</p>
        </div>
    </div>

    <div id="horizontal-chart-container">
        <h2 style="text-align: center;">Michelin Guide Listings by Country</h2>
        <div id="filter-container">
            <button class="filter-btn" data-continent="All">All</button>
            <button class="filter-btn" data-continent="Asia">Asia</button>
            <button class="filter-btn" data-continent="Europe">Europe</button>
            <button class="filter-btn" data-continent="North America">North America</button>
            <button class="filter-btn" data-continent="South America">South America</button>
        </div>
        <div id="horizontal-chart-box">
            <div id="horizontal-chart"></div>
        </div>
    </div>

    <div id="horizontal-chart-container">
        <div id="chart-box">
            <h2 style="text-align: center;">Michelin Guide  Cuisines</h2>
            <div id="second-horizontal-chart"></div>
        </div>
    </div>
    <div id="horizontal-chart-container">
        <div id="chart-box">
            <h2 style="text-align: center;">Michelin Map by Country</h2>
            <div id="map-chart"></div>
        </div>
    </div>
    <script src="../static/statistics.js" defer></script>

</body>
</html>
